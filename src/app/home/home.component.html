<!-- Main container to capture mouse movement -->
<div
  #homeContainer
  (mousemove)="onMouseMove($event)"
  class="group/spotlight relative"
>
  <!-- Overlay circular gradient -->
  <div
    class="pointer-events-none fixed inset-0 z-30 transition duration-300 lg:absolute"
    [ngClass]="isDarkTheme ? 'home-gradient' : ''"
  ></div>

  <!-- Main container with responsive padding -->
  <div
    class="mx-auto min-h-screen max-w-screen-xl px-6 py-12 md:px-12 md:py-16 lg:py-0 relative"
  >
    <!-- SVG Theme Icon -->
    <div
      class="absolute top-0 right-0 z-50 m-2 md:fixed md:top-0 md:right-0 ms:fixed ms:top-0 ms:right-0 flex items-center space-x-1"
    >
      <!-- Language Switch Button -->
      <button
        (click)="switchLanguage()"
        class="dark:text-d-text-heading dark:hover:text-d-badge-other-text light:text-l-text-heading light:hover:text-l-badge-other-text h-8 flex items-center justify-center cursor-pointer"
        [attr.aria-label]="
          'Switch to ' + (currentLang === 'en' ? 'Spanish' : 'English')
        "
      >
        {{ currentLang === "en" ? "EN" : "ES" }}
      </button>
      <!-- Theme Toggle Button -->
      <button
        (click)="toggleTheme()"
        class="h-8 flex items-center justify-center cursor-pointer"
        [attr.aria-label]="
          isDarkTheme ? 'Switch to light theme' : 'Switch to dark theme'
        "
      >
        <!-- Sun SVG (Light Theme) -->
        <svg
          *ngIf="!isDarkTheme"
          class="w-8 h-8"
          enable-background="new 0 0 512 512"
          id="Layer_1"
          version="1.1"
          viewBox="0 0 512 512"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <g>
            <path
              d="M256,144c-61.75,0-112,50.25-112,112s50.25,112,112,112s112-50.25,112-112S317.75,144,256,144z M256,336 c-44.188,0-80-35.812-80-80c0-44.188,35.812-80,80-80c44.188,0,80,35.812,80,80C336,300.188,300.188,336,256,336z M256,112 c8.833,0,16-7.167,16-16V64c0-8.833-7.167-16-16-16s-16,7.167-16,16v32C240,104.833,247.167,112,256,112z M256,400 c-8.833,0-16,7.167-16,16v32c0,8.833,7.167,16,16,16s16-7.167,16-16v-32C272,407.167,264.833,400,256,400z M380.438,154.167 l22.625-22.625c6.25-6.25,6.25-16.375,0-22.625s-16.375-6.25-22.625,0l-22.625,22.625c-6.25,6.25-6.25,16.375,0,22.625 S374.188,160.417,380.438,154.167z M131.562,357.834l-22.625,22.625c-6.25,6.249-6.25,16.374,0,22.624s16.375,6.25,22.625,0 l22.625-22.624c6.25-6.271,6.25-16.376,0-22.625C147.938,351.583,137.812,351.562,131.562,357.834z M112,256 c0-8.833-7.167-16-16-16H64c-8.833,0-16,7.167-16,16s7.167,16,16,16h32C104.833,272,112,264.833,112,256z M448,240h-32 c-8.833,0-16,7.167-16,16s7.167,16,16,16h32c8.833,0,16-7.167,16-16S456.833,240,448,240z M131.541,154.167 c6.251,6.25,16.376,6.25,22.625,0c6.251-6.25,6.251-16.375,0-22.625l-22.625-22.625c-6.25-6.25-16.374-6.25-22.625,0 c-6.25,6.25-6.25,16.375,0,22.625L131.541,154.167z M380.459,357.812c-6.271-6.25-16.376-6.25-22.625,0 c-6.251,6.25-6.271,16.375,0,22.625l22.625,22.625c6.249,6.25,16.374,6.25,22.624,0s6.25-16.375,0-22.625L380.459,357.812z"
              fill="d-background-primary"
            />
          </g>
        </svg>
        <!-- Moon SVG (Dark Theme) -->
        <svg
          *ngIf="isDarkTheme"
          class="w-8 h-8"
          enable-background="new 0 0 512 512"
          id="Layer_1"
          version="1.1"
          viewBox="0 0 512 512"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <g>
            <path
              d="M349.852,343.15c-49.875,49.916-131.083,49.916-181,0c-49.916-49.918-49.916-131.125,0-181.021  c13.209-13.187,29.312-23.25,47.832-29.812c5.834-2.042,12.293-0.562,16.625,3.792c4.376,4.375,5.855,10.833,3.793,16.625  c-12.542,35.375-4,73.666,22.25,99.917c26.209,26.228,64.5,34.75,99.916,22.25c5.792-2.062,12.271-0.582,16.625,3.793  c4.376,4.332,5.834,10.812,3.771,16.625C373.143,313.838,363.06,329.941,349.852,343.15z M191.477,184.754  c-37.438,37.438-37.438,98.354,0,135.771c40,40.021,108.125,36.416,143-8.168c-35.959,2.25-71.375-10.729-97.75-37.084  c-26.375-26.354-39.333-61.771-37.084-97.729C196.769,179.796,194.039,182.192,191.477,184.754z"
              fill="#FFF9B0"
            />
          </g>
        </svg>
      </button>
    </div>

    <!-- Flex layout for header and main content -->
    <div class="lg:flex lg:justify-between lg:gap-4">
      <!-- Header with sticky navigation -->
      <header
        class="lg:sticky lg:top-0 lg:flex lg:max-h-screen lg:w-[48%] lg:flex-col lg:justify-between lg:py-24"
      >
        <!-- Profile information -->
        <div>
          <!-- Profile name -->
          <h1
            class="text-4xl font-bold tracking-tight dark:text-d-text-heading light:text-l-text-heading sm:text-5xl"
          >
            {{ "HOME_HEADER_NAME" | translate }}
          </h1>
          <!-- Job title -->
          <h2
            class="mt-3 text-lg font-medium tracking-tight dark:text-d-text-heading light:text-l-text-heading sm:text-xl"
          >
            {{ "HOME_JOB_TITLE" | translate }}
          </h2>
          <!-- Profile description -->
          <p class="mt-4 max-w-xs leading-normal text-justify">
            {{ "HOME_DESCRIPTION" | translate }}
          </p>

          <!-- CV link -->
          <a
            [href]="
              currentLang === 'en'
                ? 'assets/docs/Pablo Díaz-Jorge García_CV_EN.pdf'
                : 'assets/docs/Pablo Díaz-Jorge García_CV_ES.pdf'
            "
            target="_blank"
            rel="noopener noreferrer"
            class="mt-6 inline-block text-sm font-medium underline-offset-2 hover:underline dark:text-d-text-heading light:text-l-text-heading group/cv-link dark:hover:text-d-text-hover-accent dark:focus-visible:text-d-text-heading light:hover:text-l-text-hover-accent light:focus-visible:text-l-text-heading"
            aria-label="Abrir Curriculum Vitae en nueva pestaña"
          >
            <span class="relative inline-flex items-center cv-link-content">
              <!-- Hit-area amplified -->
              <span
                class="cv-link-hit-area absolute -inset-x-4 -inset-y-2.5 hidden rounded md:-inset-x-6 md:-inset-y-4 lg:block"
              ></span>

              <!-- TEXT -->
              <span class="cv-link-text relative">{{ "HOME_CV" | translate }}</span>

              <svg
                class="cv-link-arrow inline-block h-4 w-4 shrink-0 transition-transform group-hover/cv-link:-translate-y-0.5 group-hover/cv-link:translate-x-0.5"
                fill="currentColor"
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z"
                />
              </svg>
            </span>
          </a>
          <!-- Sidebar navigation -->
          <app-sidebar
            [activeHref]="activeHref"
            (navigate)="scrollTo($event)"
            class="nav hidden lg:block"
          ></app-sidebar>
        </div>
        <!-- Social media links -->
        <app-social></app-social>
      </header>

      <!-- Main content area -->
      <main #scrollContainer class="pt-24 lg:w-[52%] lg:py-24">
        <!-- About section -->
        <section
          id="about"
          class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24"
        >
          <app-about class="sticky"></app-about>
        </section>
        <!-- Experience section -->
        <section
          id="experience"
          class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24"
        >
          <app-experience class="sticky"></app-experience>
        </section>
        <!-- Projects section -->
        <section
          id="projects"
          class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24"
        >
          <app-projects class="sticky"></app-projects>
        </section>
        <!-- Footer -->
        <footer
          class="max-w-md pb-16 text-sm dark:text-d-text-secondary light:text-l-text-secondary sm:pb-0"
          [innerHTML]="'HOME_FOOTER_TEXT' | translate | safeHtml"
        ></footer>
      </main>
    </div>
  </div>
</div>
